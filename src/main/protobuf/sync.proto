syntax = "proto3";

package grpc;

service SlaveService {
    rpc UpdateWeights (stream SlaveRequest) returns (stream SlaveResponse) {
    }
}

message SlaveRequest {
    uint32 id = 1;
    map<uint32, double> gradient = 2;
}

message SlaveResponse {
    map<uint32, double> feature = 1;
    bool label = 2;
    map<uint32, double> weights = 3;
    double lambda = 4;
    map<uint32, uint32> tidCounts = 5;
}